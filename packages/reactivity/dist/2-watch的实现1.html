<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
     <!-- <script src="./reactivity.global.js"></script> -->
     <script src="../../../node_modules/vue/dist/vue.global.js"></script>
</head>
<body>
    <div id="app"></div>
    <script>
        const {watch,reactive} = Vue;
        const state = reactive({name:'胡',address:{num:123}});
        /*
            监控对象无法区分前后的新值和老值
            1.这种方式就是监控数据变化，数据变化了就重新执行
            2.这里可以去监控一个函数，函数的返回值就是老值，更新后获取新值
            3.watch的本质就是effect，内部对用户填写的数据进行依赖收集。
        */
    //    watch(state,function(newValue,oldValue){//全部属性都会进行监控，比较耗性能。
    //        console.log(newValue,oldValue);
    //    })
       watch(state.address.num,function(newValue,oldValue){//只针对监控某个属性
           console.log(newValue,oldValue);
       })
       setTimeout(()=>{
        state.address.num = 456;
       },1000)

    </script>
</body>
</html>